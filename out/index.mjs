"use strict";(()=>{var g=()=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",r=t.length;for(let s=0;s<10;s++)e+=t.charAt(Math.floor(Math.random()*r));return e},H=g(),v=t=>{H=t};var R=t=>t.map(e=>JSON.stringify(Object.hasOwn(e,"get")&&e.get())).join(""),I=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var b=t=>{let e="",r=!1,s={},a=o=>{},m=()=>{let o=document.querySelector(`[data-nice-id="${e}"]`);!o||r||(r=!0,setTimeout(()=>{let n=a(e);n&&o.replaceWith(n.children[0]),r=!1},0))};return(o,n)=>(e=g(),v(e),s=o??{},a=t(s,n),{id:e,type:"component",properties:o,render:a,markDirty:m,key:n??e})};var P=(t,e)=>{let r=b(t)();if(e&&typeof window<"u"){let s=e?document.querySelector(e):void 0;if(!s)throw new Error(`Failed to attach - Element "${e}" not found in the DOM.`);r.markDirty=()=>{let a=r.render(g());if(a){for(;s.firstChild;)s.removeChild(s.firstChild);window?Array.from(a.hydrate().children).forEach(m=>{s.appendChild(m)}):s.innerHTML=a.html}},r.markDirty()}else return{html:r.render("nice-app-root").html,id:"nice-app-root",hydrate:s=>{let a=document.querySelector(`#${s}`);if(!a)throw new Error(`Failed to attach - Element "${e}" not found in the DOM.`);r.markDirty=()=>{let m=r.render(g());if(m){for(;a.firstChild;)a.removeChild(a.firstChild);window?Array.from(m.hydrate().children).forEach(d=>{a.appendChild(d)}):a.innerHTML=m.html}},r.markDirty()}}};var j=(t,...e)=>a=>{let m=`<!-- ${a} BEGIN -->`,d=`<!-- ${a} END -->`,o="",n={},i={};t.forEach((f,l)=>{let p=e[l];if(o+=f,p===void 0)return;let u=M(f),c=Math.random().toString(36).substring(7);if(typeof p!="object"){u&&!f.endsWith('"')?o+=`"${p}"`:o+=p;return}switch(p.type){case"component":o+=c,n[c]=p.render(p.id);break;case"state":o+=c,i[c]=p;break}}),Object.keys(n).forEach(f=>{o=o.replace(f,n[f].html.replace(/(<.+)( )/,`$1 data-reattach-child="${f}" `))}),Object.keys(i).forEach(f=>{let l=o.split(f)[0],p=M(l),u=i[f].get(),c=u,x=1;if(u)if(typeof u=="object"&&u.type==="component"){let T=u;c=T.render(T.id).html}else Array.isArray(u)&&(x=u.length,c=u.map(T=>{if(typeof T=="object"&&T.type==="component"){let E=T;return E.render(E.id).html}else return T}).join(""));let k=p?`"${c||""}" data-bind-${p}="${f}"`:`<!-- @ -->${c}<span style="display: none;" data-reattach-state="${f}" data-reattach-extras="${!!c&&x}"></span><!-- # -->`;o=o.replace(f,k)});let y=()=>{let f=U(o);return f.children[0].setAttribute("data-nice-id",a),Object.keys(i).forEach(l=>{f.querySelectorAll(`[data-reattach-state="${l}"]`).forEach(p=>{let u=p.getAttribute("data-reattach-extras");if(u&&u!=="false")for(let x=0;x<parseInt(u);x++)p.previousSibling?.remove();let c=i[l].get();i[l].markers.push([p.previousSibling,p.nextSibling]),S(c,p.previousSibling,p.nextSibling)})}),Object.keys(n).forEach(l=>{f.querySelectorAll(`[data-reattach-child="${l}"]`).forEach(p=>{p.replaceWith(n[l].hydrate().children[0])})}),f.querySelectorAll("*").forEach(l=>{Array.from(l.attributes).forEach(p=>{let u=p.name.match(/data-bind-(.+)$/);if(u){let c=u[1].trim(),x=p.value,k=c.startsWith("on-"),T=c.startsWith("set-"),E=c==="ref",h=i[x];if(!h)return;h.attributes[c]||(h.attributes[c]=[]),k?(l.removeAttribute(c),l.addEventListener(c.slice(3),w=>h.set(w))):T?(l.removeAttribute(c),h.listen(w=>{l[c.slice(4)]=w}),l[c.slice(4)]=h.get()):E?(l.removeAttribute(c),h.set(l)):(h.attributes[c].push(l),l.setAttribute(c,h.get()??"")),l.removeAttribute(p.name)}})}),f};return{html:o.trim(),hydrate:y}},S=(t,e,r)=>{let s=[],a=e.nextSibling;for(;a!==r;)s.push(a),a=a?.nextSibling;if(t&&typeof t=="object"&&t.type==="component"){let m=t,d=m.render(m.id);s.forEach(o=>o.remove()),d&&Array.from(d.hydrate().children).reverse().forEach(o=>e.after(o))}else{let m=Array.isArray(t)?t:[t],d=m.map(n=>{if(typeof n=="object"&&n.type==="component"){let i=n;return i.key??i.id}else return}).filter(n=>n!==void 0),o=m.map(n=>{if(typeof n=="object"&&n.type==="component"){let i=n,y=i.render(i.id).hydrate();return y.children[0]&&n.key&&y.children[0].setAttribute("data-nice-key",n.key),y}else return n});d.length?(s.forEach(n=>{d.includes(n.getAttribute("data-nice-key"))||n.remove()}),o.reverse().forEach(n=>{if(n instanceof HTMLElement){let i=null;Array.from(n.children).reverse().forEach(y=>{e.parentElement?.querySelector(`[data-nice-key="${y.getAttribute("data-nice-key")}"]`)||(i??r).before(y),i=y})}else{let i=document.createTextNode(n);e.after(i)}})):(s.forEach(n=>n.remove()),o.reverse().forEach(n=>{if(n instanceof HTMLElement)Array.from(n.children).reverse().forEach(i=>e.after(i));else{let i=document.createTextNode(n);e.after(i)}}))}},U=t=>{let e=document.createElement("div");return e.innerHTML=t,e},M=t=>{let e=/.+ (.+)="?$/gm,r,s=[];for(;(r=e.exec(t))!==null;)r.index===e.lastIndex&&e.lastIndex++,r.forEach(a=>{s.push(a)});if(s.length===2)return s[1]};var C=t=>{let e=t,r=g(),s=[],a=[],m=[],d={};return{id:r,type:"state",get:()=>e,set:o=>{let n=e;typeof t=="function"?n=o(e):n=o,n!==e&&(e=n,s.forEach(i=>i(n)),Object.entries(d).forEach(([i,y])=>{y.forEach(f=>{f.setAttribute(i,n??"")})}),m.forEach(([i,y])=>{S(e,i,y)}))},listen:o=>s.push(o),textNodes:a,markers:m,attributes:d}},A=(t,e)=>{let r=C(void 0),s=void 0,a=(e??[]).map(d=>d&&typeof d=="object"&&Object.hasOwn(d,"listen")?d:!1).filter(Boolean),m=d=>{let o=!!d&&!e,n=t(d),i=R(a);n!==r.get()&&i!==s&&!o&&r.set(n)};return e?(a.forEach(d=>d.listen(m)),m()):r.listen(m),r},L=t=>A(t||(()=>{}));var $=t=>{let e=Object.entries(t).reduce((r,[s,a])=>(r[s]=C(a),r),{});return r=>e[r]};var N=(t,e)=>{let r=[];typeof t=="number"?r=Array.from({length:t},(m,d)=>d+1):Array.isArray(t)?r=[...t]:typeof t=="object"&&(r=Array.from(Object.entries(t)));let s=!1,a=r.map((m,d)=>{let o=e(m,d);return typeof o=="function"?(s=O,b(()=>o)()):o});return s?a.reverse():a},D=t=>typeof t=="object"&&Object.hasOwn(t,"get")?t.get():t,F=t=>Object.entries(t).reduce((e,[r,s])=>`${e}${I(r)}: ${s};`,"");var ye=C,Te=A,he=j,ge=b,xe=L,be=$,Ce=D,O=typeof window<"u";})();
